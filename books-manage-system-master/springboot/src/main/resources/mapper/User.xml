<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.springboot.mapper.UserMapper">

    <insert id="insertById">
        insert into user(u_id, u_pwd, u_name, u_sex, u_birth, u_status)
        values (#{u_id}, #{u_pwd}, #{u_name}, #{u_sex}, #{u_birth}, #{u_status})
    </insert>

    <update id="updateById">
        update user
        <trim prefix="set" suffixOverrides=",">
            <if test="u_pwd != ''">
                u_pwd=#{u_pwd},
            </if>
            <if test="u_name != ''">
                u_name=#{u_name},
            </if>
            <if test="u_sex != ''">
                u_sex=#{u_sex},
            </if>
            <if test="u_birth != null">
                u_birth=#{u_birth},
            </if>
            <if test="u_status != null">
                u_status=#{u_status},
            </if>
        </trim>
        <where>
            u_id = #{u_id}
        </where>
    </update>

    <delete id="deleteById">
        delete
        from user
        where u_id =
              #{u_id}
    </delete>

    <select id="selectAll" resultType="com.example.springboot.entity.User">
        select *
        from user;
    </select>

    <select id="selectById" resultType="com.example.springboot.entity.User">
        select *
        from user
        where u_id = #{u_id}
    </select>

    <select id="selectByIdPwd" resultType="com.example.springboot.entity.User">
        select *
        from user
        where u_id = #{u_id}
          and u_pwd = #{u_pwd}
          and u_status = 1
    </select>


</mapper>
